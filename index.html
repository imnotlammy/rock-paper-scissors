<!DOCTYPE html>
<html>

  <head></head>

  <body>

    <script>
      function computerPlay() {

        let options = ['Rock', 'Paper', 'Scissors'];
        return options[Math.floor(Math.random() * options.length)];

      }

      function playRound(playerSelection, computerSelection) {
        // your code here!
        playerSelection = playerSelection.charAt(0).toUpperCase() + playerSelection.slice(1).toLowerCase();

        if (playerSelection === "Rock" && computerSelection === "Rock" ||
          playerSelection === "Paper" && computerSelection === "Paper" ||
          playerSelection === "Scissors" && computerSelection === "Scissors"
        ) {
          showResults(playerSelection, computerSelection, "tied");
          return 0;
        } else if (playerSelection == 'Rock' && computerSelection == 'Paper' ||
          playerSelection == 'Paper' && computerSelection == 'Scissors' ||
          playerSelection == 'Scissors' && computerSelection == 'Rock') {
          showResults(computerSelection, playerSelection, "lost")
          return -1;
        } else if (playerSelection == "Rock" && computerSelection == "Paper" || playerSelection == "Paper" && computerSelection == "Rock" || playerSelection == "Scissors" && playerSelection == "Paper") {
          showResults(playerSelection, computerSelection, "won")
          return 1;
        }
        alert("Please eneter a valid selection.");
        return;
      }

      function showResults(winnerSelection, loserSelection, result) {
        if (result == "tied") {
          console.log(`You ${result}. Both picked ${winnerSelection}`);
        } else {
          console.log(`You ${result}. ${winnerSelection} beats ${loserSelection}`);
        }
      }

      function game() {

        let winCount = 0
        let loseCount = 0

        for (i = 0; i < 5; i++) {
          const playerSelection = prompt('Choose rock, paper or scissors');
          const computerSelection = computerPlay();

          const scoreCount = playRound(playerSelection, computerSelection);

          if (scoreCount === undefined) {
            return;
          } else if (scoreCount === 1) {
            winCount++;
          } else if (scoreCount === -1) {
            loseCount++;
          }

        }
        showGameResult(winCount, loseCount)

        function showGameResult(winCount, loseCount) {

          if (winCount > loseCount) {
            console.log(`You win! ${winCount} Computer ${loseCount}`)
          } else if (loseCount > winCount) {
            console.log(`You lose! ${winCount} Computer ${loseCount}`)
          } else {
            console.log(`You tied the game.`)
          }
        }
      }
      game();

    </script>
  </body>

</html>
